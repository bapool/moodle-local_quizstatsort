/**
 * JavaScript to sort quiz statistics table by facility index
 *
 * @module     local_quizstatsort/sort_statistics
 * @copyright  2025 Brian A. Pool
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_quizstatsort/sort_statistics",["jquery"],(function($){return{init:function(){var table=$("#questionstatistics");if(0!==table.length){var tbody=table.find("tbody"),originalRows=tbody.find("tr").get().slice(),facilityColumnIndex=-1,facilityHeader=null;if(table.find("thead th").each((function(index){if("Facility index"===$(this).text().trim())return facilityColumnIndex=index,facilityHeader=$(this),!1})),-1!==facilityColumnIndex){var sortState="asc",sortTable=function(state){var rows;"none"===state?rows=originalRows.slice():(rows=tbody.find("tr").get()).sort((function(a,b){var aValue=$(a).find("td").eq(facilityColumnIndex).text().trim(),bValue=$(b).find("td").eq(facilityColumnIndex).text().trim(),aNum=parseFloat(aValue.replace("%","")),bNum=parseFloat(bValue.replace("%",""));return isNaN(aNum)&&isNaN(bNum)?0:isNaN(aNum)?1:isNaN(bNum)?-1:"asc"===state?aNum-bNum:bNum-aNum})),$.each(rows,(function(index,row){tbody.append(row)})),facilityHeader.find(".sorticon").remove();var icon="";icon="asc"===state?" ▲":"desc"===state?" ▼":" ↕",facilityHeader.append('<span class="sorticon">'+icon+"</span>")};facilityHeader.css("cursor","pointer"),facilityHeader.attr("title","Click to cycle sort: Ascending → Descending → Unsorted"),facilityHeader.on("click",(function(){sortTable(sortState="asc"===sortState?"desc":"desc"===sortState?"none":"asc")})),sortTable(sortState)}}}}}));

//# sourceMappingURL=sort_statistics.min.js.map